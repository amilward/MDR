<div ng-controller="DataElementShow" id="dataElementShow">
    <h2 id="dataElementShowTitle">Data Element:</h2>
    <h1> <a id="dataElementName" href="#" onbeforesave="updateModel(dataElement)" editable-text="dataElement.name">{{ dataElement.name || 'empty' }}</a>
        <small> <a id="dataElementStatus" href="#" onbeforesave="updateModel(dataElement)" editable-select="dataElement.status" e-ng-options="s.id as s.title for s in statuses">{{ dataElement.status || 'empty' }}</a></small>
        <small> <span id="dataElementVersion">{{ dataElement.versionNumber || 'empty' }} </span> </small></h1>
    <p>Description: <a id="dataElementDescription" href="#" onbeforesave="updateModel(dataElement)" editable-textarea="dataElement.description">{{ dataElement.description || 'empty' }}</a></p>


    <p><button id="toggleAddRelationshipButton" ng-click="toggleAddRelationshipPanel()">Add Relationship</button></p>

    <div ng-hide="addRelationshipPanel" id="addRelationshipPanel">

    <p>
        Type: <a id="relationshipType" href="#" editable-select="relationshipToAdd.type" e-ng-options="s as s.name for s in relationshipTypes">{{ relationshipToAdd.type.name || 'empty' }}</a>
    </p>
    <p>
        Direction: <a id="relationshipDirection" href="#" editable-select="relationshipToAdd.direction" e-ng-options="s as s for s in [relationshipToAdd.type.xYRelationship, relationshipToAdd.type.yXRelationship]">{{ relationshipToAdd.direction || 'empty' }}</a>
    </p>
    <p>
        Object:<a id="relation" href="#" editable-select="relationshipToAdd.object" e-ng-options="s as s.name for s in dataElements">{{ relationshipToAdd.object.name || 'empty' }}</a>
    </p>
    <p><button id="addRelationship" class="btn btn-default" ng-click="addRelationship(relationshipToAdd)">Add</button></p>
    </div>

    <p>Relations:</p>
    <table id="relationsTable" ng-table="tableParams" show-filter="true" class="table ng-table-rowselected">
        <tr ng-repeat="relation in ngTableRelations"
            ng-click="changeSelection(relation)"
            ng-class="{'active': relation.$selected}">

            <td data-title="'Class'" sortable="'class'" filter="{ 'class': 'text' }">
                {{relation.class}}
            </td>

            <td data-title="'Name'" sortable="'name'" filter="{ 'name': 'text' }">
                <a href="#/relation/show/{{relation.id}}">{{relation.name}}</a>
            </td>

            <td data-title="'Direction'" sortable="'relationshipDirection'" filter="{ 'relationshipDirection': 'text' }">
                {{relation.relationshipDirection}} (this)
            </td>

            <td data-title="'Type'" sortable="'type'" filter="{ 'type': 'text' }">
                {{relation.type}}
            </td>





        </tr>
    </table>

</div>